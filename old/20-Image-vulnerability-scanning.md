# Image Vulnerability Scanning

* programs in images can contain vulnerabilities
* Checked during
  * build time 
  * Runtime
* Tools that scan for vunerabilities can be placed in the `Admission Controllers`
  * Mutating Webhooks
  * Validating Webhooks

* Tools that check registry for known vulnerabilities

* 2 vulnerability Scanners
  * clair
  * trivy - [https://github.com/aquasecurity/trivy](https://github.com/aquasecurity/trivy)

## Lab: Use Trivy to check images.

<details>
<summary>Run trivy to scan images</summary>

```
docker run ghcr.io/aquasecurity/trivy:latest image nginx
```
</details>

<details>
<summary>Run trivy to scan k8s kube-apiserver image</summary>

```
docker run ghcr.io/aquasecurity/trivy:latest image k8s.gcr.io/kube-api-server:v.1.19.3
```
</details>
